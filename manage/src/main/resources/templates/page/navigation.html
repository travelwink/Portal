<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head th:replace="common/head :: head"></head>

<body class="sticky-header">

<section>
    <div th:replace="common/menu :: menu"></div>

    <!-- main content start-->
    <div class="main-content">

        <div class="header-section" th:replace="common/header :: header"></div>

        <!-- page heading start-->
        <div class="page-heading">
            <h3>
                菜单管理
            </h3>
            <ul class="breadcrumb">
                <li> 主页管理 </li>
                <li class="active"> 菜单管理 </li>
            </ul>
        </div>
        <!-- page heading end-->

        <!--body wrapper start-->
        <div class="wrapper">
            <div class="row">
                <div class="col-md-12">
                    <div class="panel">
                        <div class="panel-heading">
                            导航菜单
                            <!--<span class="tools pull-right">-->
                                <!--<a class="fa fa-chevron-down" href="javascript:;"></a>-->
                                <!--<a class="fa fa-times" href="javascript:;"></a>-->
                            <!--</span>-->
                        </div>
                        <div class="panel-body">
                            <div id="FlatTree" class="tree tree-plus-minus">
                                <div class = "tree-folder" style="display:none;">
                                    <div class="tree-folder-header">
                                        <i class="fa fa-folder"></i>
                                        <div class="tree-folder-name"></div>
                                    </div>
                                    <div class="tree-folder-content"></div>
                                    <div class="tree-loader" style="display:none"></div>
                                </div>

                                <div class="tree-item" style="display:none;">
                                    <i class="tree-dot"></i>
                                    <div class="tree-item-name"></div>
                                </div>
                            </div>
                        </div>

                    </div>
                </div>
            </div>
        </div>
        <!--body wrapper end-->

        <!--footer section start-->
        <footer th:replace="common/footer :: footer"></footer>
        <!--footer section end-->
    </div>
    <!-- main content end-->
</section>

<!-- Placed js at the end of the document so the pages load faster -->
<script src="js/jquery-1.10.2.min.js"></script>
<script src="js/jquery-ui-1.9.2.custom.min.js"></script>
<script src="js/jquery-migrate-1.2.1.min.js"></script>
<script src="js/bootstrap.min.js"></script>
<script src="js/modernizr.min.js"></script>
<script src="js/jquery.nicescroll.js"></script>

<!--tree-->
<script src="js/fuelux/js/tree.min.js"></script>
<!--<script src="js/tree-init.js"></script>-->

<!--common scripts for all pages-->
<script src="js/scripts.js"></script>

<script>
    // jQuery(document).ready(function() {
    //     TreeView.init();
    // });

    jQuery(function($){
        $('#FlatTree').tree({
            dataSource: treeDataSource,
            multiSelect:true,
            loadingHTML: '<img src="images/input-spinner.gif"/>'
        });
    });

    var DataSourceTree = function(options) {
        this._data 	= options.data;
        this._delay = options.delay;
    }

    DataSourceTree.prototype.data = function(options, callback) {
        var $data = null;

        if(!("name" in options) && !("type" in options)){
            $data = this._data;//the root tree
            callback({ data: $data });
            return;
        }
        else if("type" in options && options.type == "folder") {
            if("additionalParameters" in options && "children" in options.additionalParameters)
                $data = options.additionalParameters.children;
            else $data = {}//no data
        }

        if($data != null)//this setTimeout is only for mimicking some random delay
            setTimeout(function(){callback({ data: $data });} , parseInt(Math.random() * 100) + 100);

    };

    var tree_data = {
        'for-sale' : {name: '销售', type: 'folder'}	,
        'vehicles' : {name: '车辆', type: 'folder'}	,
        'rentals' : {name: 'Rentals', type: 'folder'}	,
        'real-estate' : {name: 'Real Estate', type: 'folder'}	,
        'pets' : {name: 'Pets', type: 'folder'}	,
        'tickets' : {name: 'Tickets', type: 'item'}	,
        'services' : {name: 'Services', type: 'item'}	,
        'personals' : {name: 'Personals', type: 'item'}
    }
    tree_data['for-sale']['additionalParameters'] = {
        'children' : {
            'appliances' : {name: 'Appliances', type: 'item'},
            'arts-crafts' : {name: 'Arts & Crafts', type: 'item'},
            'clothing' : {name: 'Clothing', type: 'item'},
            'computers' : {name: 'Computers', type: 'item'},
            'jewelry' : {name: 'Jewelry', type: 'item'},
            'office-business' : {name: 'Office & Business', type: 'item'},
            'sports-fitness' : {name: 'Sports & Fitness', type: 'item'}
        }
    }
    tree_data['vehicles']['additionalParameters'] = {
        'children' : {
            'cars' : {name: 'Cars', type: 'folder'},
            'motorcycles' : {name: 'Motorcycles', type: 'item'},
            'boats' : {name: 'Boats', type: 'item'}
        }
    }
    tree_data['vehicles']['additionalParameters']['children']['cars']['additionalParameters'] = {
        'children' : {
            'classics' : {name: 'Classics', type: 'item'},
            'convertibles' : {name: 'Convertibles', type: 'item'},
            'coupes' : {name: 'Coupes', type: 'item'},
            'hatchbacks' : {name: 'Hatchbacks', type: 'item'},
            'hybrids' : {name: 'Hybrids', type: 'item'},
            'suvs' : {name: 'SUVs', type: 'item'},
            'sedans' : {name: 'Sedans', type: 'item'},
            'trucks' : {name: 'Trucks', type: 'item'}
        }
    }

    tree_data['rentals']['additionalParameters'] = {
        'children' : {
            'apartments-rentals' : {name: 'Apartments', type: 'item'},
            'office-space-rentals' : {name: 'Office Space', type: 'item'},
            'vacation-rentals' : {name: 'Vacation Rentals', type: 'item'}
        }
    }
    tree_data['real-estate']['additionalParameters'] = {
        'children' : {
            'apartments' : {name: 'Apartments', type: 'item'},
            'villas' : {name: 'Villas', type: 'item'},
            'plots' : {name: 'Plots', type: 'item'}
        }
    }
    tree_data['pets']['additionalParameters'] = {
        'children' : {
            'cats' : {name: 'Cats', type: 'item'},
            'dogs' : {name: 'Dogs', type: 'item'},
            'horses' : {name: 'Horses', type: 'item'},
            'reptiles' : {name: 'Reptiles', type: 'item'}
        }
    }

    var treeDataSource = new DataSourceTree({data: tree_data});
</script>

</body>
</html>
